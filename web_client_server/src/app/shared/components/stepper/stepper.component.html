<ol
  class="flex items-center w-full text-sm font-medium text-center sm:text-base"
>
  <li
    *ngFor="let step of steps; let i = index"
    class="relative flex items-center group cursor-pointer transition-colors"
    [class.w-full]="i < steps.length - 1"
    [class.w-fit]="i === steps.length - 1"
    (click)="handleStepChanged(i)"
  >
    <div
      class="absolute top-1/2 left-0 right-0 h-1 -translate-y-1/2 z-0"
      *ngIf="i < steps.length - 1"
      [ngClass]="{
        'bg-orange-500 dark:bg-orange-700': isCompleted(i),
        'bg-gray-200 dark:bg-gray-600': !isCompleted(i)
      }"
    ></div>

    <span class="relative z-10 flex items-center gap-2">
      <ng-container *ngIf="mode === StepperEnum.ICON">
        <span
          class="flex items-center justify-center w-10 h-10 rounded-full transition-colors duration-200"
          [ngClass]="{
            'bg-orange-500 dark:bg-orange-600': isActive(i),
            'bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600':
              !isActive(i)
          }"
        >
          <i
            *ngIf="step.icon"
            class="mdi text-white-50 text-xl"
            [ngClass]="step.icon"
          ></i>
        </span>
      </ng-container>

      <ng-container *ngIf="mode === StepperEnum.NUMBER">
        <span
          class="flex items-center justify-center w-10 h-10 rounded-full font-bold transition-colors duration-200"
          [ngClass]="{
            'bg-orange-500 text-white-50 dark:bg-orange-600': isActive(i),
            'bg-gray-200 text-white-50 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600':
              !isActive(i)
          }"
        >
          {{ i + 1 }}
        </span>
      </ng-container>

      <ng-container *ngIf="mode === StepperEnum.TEXT">
        <span
          class="flex items-center px-3 py-2 rounded-full transition-colors duration-200"
          [ngClass]="{
            'bg-orange-500 text-white-50 dark:bg-orange-600': isActive(i),
            'bg-gray-200 text-white-50 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600':
              !isActive(i)
          }"
        >
          <i
            *ngIf="step.icon"
            class="mdi me-2 text-white-50 text-lg"
            [ngClass]="step.icon"
          ></i>
          <span class="font-semibold">{{ step.label }}</span>
        </span>
      </ng-container>
    </span>
  </li>
</ol>
